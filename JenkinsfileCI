@Library('jenkins-pipeline-library@latest_develop')
import no.spk.jenkins.pipeline.ci.config.CIPipelineConfig

ciPipeline {
    config = CIPipelineConfig.get()
            .useMake(
                buildImage: 'old-dockerhub.spk.no:5000/base-golang/golang',
                build: 'build',
                test: 'coverage'
            )
            .withSonarQube()
            .withVersionStrategy(strategy: 'semver')
            .withGitTaggingStrategy(semantic: 'main')
            .withSlackNotifications(channels: 'parsec-ci')
}