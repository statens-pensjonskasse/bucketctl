kind: ProjectConfig
apiVersion: bucketctl.spk.no/v1alpha1
metadata:
  name: actual_project_config
spec:
  projectKey: TEST
  public: false
  defaultPermission: PROJECT_READ
  permissions:
    - name: PROJECT_READ
      users:
        - pompel
        - pilt
    - name: PROJECT_ADMIN
      groups:
        - vaktmesteren
  branchingModel:
    development:
      refId: develop
    production:
      refId: master
    types:
      - name: bugfix
        prefix: bugfix/
      - name: feature
        prefix: feature/
      - name: hotfix
        prefix: hotfix/
      - name: release
        prefix: release/
  branchRestrictions:
    - type: BRANCH
      matchers:
        - matching: master
          restrictions:
            - type: fast-forward-only
            - type: pull-request-only
              exemptUsers:
                - ci
  webhooks: [ ]
  repositories:
    - name: gorgon
      permissions:
        - name: REPO_ADMIN
          users:
            - pompel
      branchingModel:
        development:
          useDefault: true
        production:
          refId: master
      branchRestrictions:
        - type: MODEL_BRANCH
          matchers:
            - matching: production
              restrictions:
                - type: read-only
    - name: narnia
      permissions:
        - name: REPO_ADMIN
          users:
            - aslan
      webhooks:
        - name: garderobeskap
          events:
            - repo:refs_changed
          configuration:
            createdBy: bucketctl
          url: https://example.com
          active: false
          scopeType: repository
          sslVerificationRequired: true