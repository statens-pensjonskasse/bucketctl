kind: ProjectConfig
apiVersion: bucketctl.spk.no/v1alpha1
metadata:
  name: to_create_project_config
spec:
  projectKey: TEST
  permissions:
    - name: PROJECT_ADMIN
      users:
        - pompel
  branchRestrictions:
    - type: BRANCH
      matchers:
        - matching: main
          restrictions:
            - type: fast-forward-only
            - type: no-deletes
            - type: pull-request-only
              exemptUsers:
                - pilt
  webhooks:
    - name: kaptein hook
      events:
        - repo:refs_changed
      configuration:
        createdBy: bucketctl
      url: https://spk.no
      active: true
      scopeType: project
      sslVerificationRequired: true
  repositories:
    - name: midgard
      permissions:
        - name: REPO_READ
          groups:
            - palantir
    - name: narnia
      branchingModel:
        development:
          refId: woop
      permissions:
        - name: REPO_ADMIN
          groups:
            - pevensie
